{"version":3,"file":"bundle.95fc575eb456c370ff19.js","mappings":"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","sources":["webpack://odin-weather-app/webpack/runtime/async module","webpack://odin-weather-app/./src/index.js","webpack://odin-weather-app/./src/javascript/data.js","webpack://odin-weather-app/./src/javascript/loadbg.js","webpack://odin-weather-app/./src/javascript/card.js","webpack://odin-weather-app/webpack/bootstrap","webpack://odin-weather-app/webpack/runtime/define property getters","webpack://odin-weather-app/webpack/runtime/hasOwnProperty shorthand","webpack://odin-weather-app/webpack/startup"],"sourcesContent":["var webpackQueues = typeof Symbol === \"function\" ? Symbol(\"webpack queues\") : \"__webpack_queues__\";\nvar webpackExports = typeof Symbol === \"function\" ? Symbol(\"webpack exports\") : \"__webpack_exports__\";\nvar webpackError = typeof Symbol === \"function\" ? Symbol(\"webpack error\") : \"__webpack_error__\";\nvar resolveQueue = (queue) => {\n\tif(queue && queue.d < 1) {\n\t\tqueue.d = 1;\n\t\tqueue.forEach((fn) => (fn.r--));\n\t\tqueue.forEach((fn) => (fn.r-- ? fn.r++ : fn()));\n\t}\n}\nvar wrapDeps = (deps) => (deps.map((dep) => {\n\tif(dep !== null && typeof dep === \"object\") {\n\t\tif(dep[webpackQueues]) return dep;\n\t\tif(dep.then) {\n\t\t\tvar queue = [];\n\t\t\tqueue.d = 0;\n\t\t\tdep.then((r) => {\n\t\t\t\tobj[webpackExports] = r;\n\t\t\t\tresolveQueue(queue);\n\t\t\t}, (e) => {\n\t\t\t\tobj[webpackError] = e;\n\t\t\t\tresolveQueue(queue);\n\t\t\t});\n\t\t\tvar obj = {};\n\t\t\tobj[webpackQueues] = (fn) => (fn(queue));\n\t\t\treturn obj;\n\t\t}\n\t}\n\tvar ret = {};\n\tret[webpackQueues] = x => {};\n\tret[webpackExports] = dep;\n\treturn ret;\n}));\n__webpack_require__.a = (module, body, hasAwait) => {\n\tvar queue;\n\thasAwait && ((queue = []).d = -1);\n\tvar depQueues = new Set();\n\tvar exports = module.exports;\n\tvar currentDeps;\n\tvar outerResolve;\n\tvar reject;\n\tvar promise = new Promise((resolve, rej) => {\n\t\treject = rej;\n\t\touterResolve = resolve;\n\t});\n\tpromise[webpackExports] = exports;\n\tpromise[webpackQueues] = (fn) => (queue && fn(queue), depQueues.forEach(fn), promise[\"catch\"](x => {}));\n\tmodule.exports = promise;\n\tbody((deps) => {\n\t\tcurrentDeps = wrapDeps(deps);\n\t\tvar fn;\n\t\tvar getResult = () => (currentDeps.map((d) => {\n\t\t\tif(d[webpackError]) throw d[webpackError];\n\t\t\treturn d[webpackExports];\n\t\t}))\n\t\tvar promise = new Promise((resolve) => {\n\t\t\tfn = () => (resolve(getResult));\n\t\t\tfn.r = 0;\n\t\t\tvar fnQueue = (q) => (q !== queue && !depQueues.has(q) && (depQueues.add(q), q && !q.d && (fn.r++, q.push(fn))));\n\t\t\tcurrentDeps.map((dep) => (dep[webpackQueues](fnQueue)));\n\t\t});\n\t\treturn fn.r ? promise : getResult();\n\t}, (err) => ((err ? reject(promise[webpackError] = err) : outerResolve(exports)), resolveQueue(queue)));\n\tqueue && queue.d < 0 && (queue.d = 0);\n};","import \"./css/styles.css\";\nimport { getData } from \"./javascript/data.js\";\nimport { addCard } from \"./javascript/card.js\";\nimport { loadBackground } from \"./javascript/loadbg.js\";\n\nasync function showData(cityName) {\n  try {\n    const json = await getData(cityName);\n\n    document.getElementById(\"location\").innerText = json.resolvedAddress;\n    document.getElementById(\"description\").innerHTML = json.description;\n    loadBackground(json.resolvedAddress + \" \" + json.description);\n\n    const cards = document.getElementsByClassName(\"cards\")[0];\n    cards.innerHTML = \"\";\n\n    for (const day of json.days) {\n      addCard({\n        icon: day.icon,\n        date: day.datetime.slice(-2),\n        temp: day.temp,\n        feelsLike: day.feelslike,\n        humidity: day.humidity,\n        description: day.description,\n      });\n    }\n  } catch (error) {\n    alert(\"Something went wrong, try again.\");\n    // await showData(\"Amazon\");\n  }\n}\n\nawait showData(\"Amazon\");\n\ndocument.getElementById(\"submit\").addEventListener(\"click\", async function () {\n  const inputValue = document.querySelector(\"input\").value || \"Tokyo\";\n  await showData(inputValue);\n});\n","const API_KEY = atob(\"NlM4OUhRSlNIQUdQVFFYUlE5U0FSQU1BNw==\");\nconst url =\n  \"https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline\";\n\nexport async function getData(location) {\n  let query = `${url}/${location}?key=${API_KEY}`;\n  const response = await fetch(query);\n  return await response.json();\n}\n","async function getRandomImage(query) {\n  const encodedKey =\n    \"QzlrSXVFT2tOY213eE5sQ2F6c3FydHlLN0dVWFZHbWpNaEc1eHNIYWk1ZmVadklXUVFNUWZhSnA=\";\n  const apiKey = atob(encodedKey);\n  const response = await fetch(\n    `https://api.pexels.com/v1/search?query=${encodeURIComponent(query)}`,\n    {\n      headers: {\n        Authorization: apiKey,\n      },\n    }\n  );\n  const data = await response.json();\n  const photos = data.photos;\n  if (!photos || photos.length === 0) return null;\n\n  const randomPhoto = photos[Math.floor(Math.random() * photos.length)];\n  return {\n    image: randomPhoto.src.landscape,\n    photographer: randomPhoto.photographer,\n    alt: randomPhoto.alt,\n    avg_color: randomPhoto.avg_color,\n  };\n}\n\nfunction mixWithWhite(hex, mixRatio = 0.5, alpha = 0.5) {\n  const r = parseInt(hex.slice(1, 3), 16);\n  const g = parseInt(hex.slice(3, 5), 16);\n  const b = parseInt(hex.slice(5, 7), 16);\n\n  const mixedR = Math.round(r + (255 - r) * mixRatio);\n  const mixedG = Math.round(g + (255 - g) * mixRatio);\n  const mixedB = Math.round(b + (255 - b) * mixRatio);\n\n  return `rgba(${mixedR}, ${mixedG}, ${mixedB}, ${alpha})`;\n}\n\nexport async function loadBackground(arg) {\n  const dataStuff = await getRandomImage(arg);\n  if (!dataStuff) return;\n\n  const img = new Image();\n  img.src = dataStuff.image;\n\n  img.onload = () => {\n    document.body.style.background = `url(${dataStuff.image}) no-repeat center center fixed`;\n    document.body.style.backgroundSize = \"cover\";\n    document.body.style.backgroundColor = dataStuff.avg_color;\n    document.querySelectorAll(\".card\").forEach((card) => {\n      // card.style.background = `color-mix(in srgb, ${dataStuff.avg_color}, white 50%)`;\n      card.style.background = mixWithWhite(dataStuff.avg_color, 0.5, 0.5);\n    });\n\n    const cardsContainer = document.querySelector(\".cards\");\n    cardsContainer.querySelector(\"p\")?.remove(); // remove previous credit\n    const p = document.createElement(\"p\");\n    p.innerHTML = `Photo from <a href=\"https://www.pexels.com/\" target=\"_blank\">pexels.com</a> by ${dataStuff.photographer}`;\n    cardsContainer.append(p);\n  };\n}\n","export function addCard({\n  icon,\n  date,\n  temp,\n  feelsLike,\n  humidity,\n  description,\n}) {\n  const cardsContainer = document.querySelector(\".cards\");\n\n  const card = document.createElement(\"div\");\n  card.className = \"card\";\n\n  const img = document.createElement(\"img\");\n  img.src = `/public/icones-monoschrome/${icon}.svg`;\n  img.height = 50;\n  img.alt = icon;\n  img.className = \"icon\";\n\n  const dateDiv = document.createElement(\"div\");\n  dateDiv.className = \"date\";\n  dateDiv.innerHTML = `<strong>Date:</strong> ${date}`;\n\n  const tempDiv = document.createElement(\"div\");\n  tempDiv.className = \"temp\";\n  tempDiv.innerHTML = `<strong>Temp:</strong> <span id=\"temp\">${temp} °F</span>`;\n\n  const feelsDiv = document.createElement(\"div\");\n  feelsDiv.className = \"feels-like\";\n  feelsDiv.innerHTML = `<strong>Feels Like:</strong> <span id=\"feelslike\">${feelsLike} °F</span>`;\n\n  const humidityDiv = document.createElement(\"div\");\n  humidityDiv.className = \"humidity\";\n  humidityDiv.innerHTML = `<strong>Humidity:</strong> ${humidity} %`;\n\n  const descDiv = document.createElement(\"div\");\n  descDiv.className = \"description\";\n  descDiv.innerHTML = `<strong>Description:</strong> ${description}`;\n\n  card.appendChild(img);\n  card.appendChild(dateDiv);\n  card.appendChild(tempDiv);\n  card.appendChild(feelsDiv);\n  card.appendChild(humidityDiv);\n  card.appendChild(descDiv);\n\n  cardsContainer.appendChild(card);\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// startup\n// Load entry module and return exports\n// This entry module used 'module' so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(173);\n"],"names":["webpackQueues","webpackExports","webpackError","resolveQueue","async","showData","cityName","json","document","getElementById","innerText","resolvedAddress","innerHTML","description","getElementsByClassName","day","days","icon","date","datetime","slice","temp","feelsLike","feelslike","humidity","error","alert","addEventListener","inputValue","querySelector","value","API_KEY","atob","url","getData","location","query","response","fetch","loadBackground","arg","dataStuff","apiKey","encodeURIComponent","headers","Authorization","photos","length","randomPhoto","Math","floor","random","image","src","landscape","photographer","alt","avg_color","getRandomImage","img","Image","onload","body","style","background","backgroundSize","backgroundColor","querySelectorAll","forEach","card","hex","mixRatio","alpha","r","parseInt","g","b","round","mixWithWhite","cardsContainer","remove","p","createElement","append","addCard","className","height","dateDiv","tempDiv","feelsDiv","humidityDiv","descDiv","appendChild","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","Symbol","queue","d","fn","a","hasAwait","currentDeps","outerResolve","reject","depQueues","Set","promise","Promise","resolve","rej","x","deps","map","dep","then","obj","e","ret","wrapDeps","getResult","fnQueue","q","has","add","push","err","definition","key","o","Object","defineProperty","enumerable","get","prop","prototype","hasOwnProperty","call"],"sourceRoot":""}